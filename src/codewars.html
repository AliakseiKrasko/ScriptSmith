<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //TODO: практика решения задач по нативным javascriptlog
    function retry(fn, attempts) {
        return new Promise((resolve, reject) => {
            fn()
                .then(resolve)
                .catch(err => {
                    if (attempts <= 1) return reject(err);
                    retry(fn, attempts - 1).then(resolve, reject);
                });
        });
    }


    retry(() => fetchData(), 3)
        .then(data => console.log(data))
        .catch(err => console.log('Failed after 3 attempts'));
</script>
</body>
</html>